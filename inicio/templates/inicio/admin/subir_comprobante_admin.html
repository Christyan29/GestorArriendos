{% extends 'inicio/base_admin.html' %}
{% block titulo %}Subir comprobante{%
endblock %} {% block contenido %}

<div class="space-y-6 animate-fade-in">
  <h1 class="text-2xl font-bold text-gradient">Subir comprobante de pago</h1>
  <p class="text-sm text-gray-300">
    Pago: {{ pago.periodo|date:"F Y" }} • Depto {{
    pago.contrato.numero_departamento }} • Arrendatario: {{
    pago.contrato.arrendatario }}
  </p>

  {% if pago.comprobante %}
  <div class="bg-gray-800/60 p-4 rounded-lg border border-white/10">
    <p class="text-sm text-gray-300 mb-2">Comprobante actual:</p>
    <a
      href="{{ pago.comprobante.url }}"
      target="_blank"
      class="text-blue-400 hover:underline"
      >Ver comprobante</a
    >
    <p class="mt-1 text-xs text-yellow-400">
      Si subes un nuevo archivo, reemplazará al actual.
    </p>
  </div>
  {% endif %}

  <form
    method="post"
    enctype="multipart/form-data"
    class="space-y-4 bg-gray-900/70 p-6 rounded-lg border border-white/10 shadow-lg"
  >
    {% csrf_token %}
    <div>
      <label
        for="comprobante"
        class="block text-sm font-medium text-gray-300 mb-1"
      >
        Seleccionar archivo
      </label>
      <input
        type="file"
        name="comprobante"
        id="comprobante"
        class="block w-full text-sm text-gray-300 bg-gray-800 border border-gray-600 rounded-lg focus:ring-pink-500 focus:border-pink-500"
      />
      <p class="mt-1 text-xs text-gray-400">
        Formatos permitidos: PDF, JPG, PNG. Máx: 10 MB.
      </p>
    </div>

    <div class="flex justify-end space-x-2">
      <a
        href="{% url 'pagos_admin' %}"
        class="px-4 py-2 bg-gray-700 hover:bg-gray-600 text-white rounded-lg text-sm"
      >
        Cancelar
      </a>
      <button
        type="submit"
        class="px-4 py-2 bg-pink-600 hover:bg-pink-500 text-white rounded-lg text-sm"
      >
        {% if pago.comprobante %}Reemplazar{% else %}Subir{% endif %}
      </button>
    </div>
  </form>
</div>
{% endblock %}
